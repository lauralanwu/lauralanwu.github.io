<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <title>Salesforce CWC demo</title>
  <link rel="icon" type="image/x-icon" href="https://www.salesforce.com/c2/public/app/favicon.ico">
  <link rel="stylesheet" href="/index.css" />
</head>
<body>
	<div class="background-container">
        <img src="background.png" alt="Background">
    </div>

	<script type='text/javascript'>
		function initAgentforceMessaging() {
			try {
				agentforce_messaging.settings.language = 'en'; // For example, enter 'en' or 'en-US'
				agentforce_messaging.settings.devMode = true;
				agentforce_messaging.init(
					'00DSB00000QAo9R',
					'Unauth_4',
					'https://orgfarm-0b9845e12f.test1.my.pc-rnd.site.com/ESWcwcsalesforce21755190123625',
					{
						scrt2URL: 'https://orgfarm-0c5a291cea.test1.my.pc-rnd.salesforce-scrt.com'
					}
				);
			} catch (err) {
				console.error('Error loading Embedded Messaging: ', err);
			}
		};
	</script>
	<script type='text/javascript' src='https://orgfarm-0b9845e12f.test1.my.pc-rnd.site.com/ESWcwcsalesforce21755190123625/assets/js/init.js' onload='initAgentforceMessaging()'></script>

	<script>
	window.addEventListener('load', function() {
		setTimeout(function() {
			const iframe = document.getElementById('agentforce-messaging-frame');
			const message = {
				type: 'changeColor',
				color: '#066AFE' // --slds-g-color-palette-electric-blue-50
			};
			iframe.contentWindow.postMessage(message, '*');
		}, 500);
	});
	</script>

</body>
</html>
